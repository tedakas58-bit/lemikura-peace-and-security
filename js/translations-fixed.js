// Fixed Translation System for Lemi Kura Peace and Security Website

const translations = {
    am: {
        // Site Title
        siteTitle: '·àà·àö ·ä©·à´ ·ä≠/·ä®·â∞·àõ ·à∞·àã·àù·äì ·çÄ·å•·â≥ ·ä†·àµ·â∞·ã≥·ã∞·à≠ ·åΩ/·â§·âµ',
        
        // Navigation
        navHome: '·ãã·äì ·åà·åΩ',
        navAbout: '·àµ·àà ·ä•·äõ',
        navServices: '·ä†·åà·àç·åç·àé·â∂·âª·âΩ·äï',
        navNews: '·ãú·äì·ãé·âΩ ·ä•·äì ·â•·àé·åé·âΩ',
        navComments: '·ä†·àµ·â∞·ã´·ã®·âµ ·ã≠·àµ·å°',
        navContact: '·ã´·åç·äô·äï',
        navFeedback: '·ã®·ä†·åà·àç·åç·àé·âµ ·åç·àù·åà·àõ',
        navAdmin: '·ä†·àµ·â∞·ã≥·ã≥·à™',
        
        // Hero Section
        heroTitle: '·àà·àö ·ä©·à´ ·ä≠/·ä® ·à∞·àã·àù·äì ·å∏·å•·â≥ ·ä†·àµ·â∞·ã≥·ã∞·à≠ ·åΩ/·â§·âµ ·àà·àã·âÄ ·à∞·àã·àù ·ã®·àö·â∞·åã',
        heroDescription: '·ä†·ã≤·àµ ·ä†·â†·â£·äï ·à∞·àã·àù·äì ·çÄ·å•·â≥·äì ·à∞·àã·àù ·ã®·à∞·çà·äê·â†·âµ ·ä•·äì ·ã®·àÖ·åç ·ã®·â†·àã·ã≠·äê·âµ ·ã®·â∞·à®·åã·åà·å†·â†·âµ ·ä®·â∞·àõ ·ä•·äì·ã∞·à≠·åã·àà·äï·ç°·ç°',
        heroBtnServices: '·ä†·åà·àç·åç·àé·â∂·âΩ ·ã≠·àò·àç·ä®·â±',
        heroBtnContact: '·â†·ãö·àÖ ·ã´·åà·äô·äï',
        
        // Welcome Section
        welcomeText: '·à∞·àã·àù ·ä•·äì ·ã∞·àÖ·äï·äê·âµ ·ã®·àï·â•·à®·â∞·à∞·â°·äï ·àò·à®·åã·åã·âµ ·ä•·äì ·ä•·ãµ·åà·âµ ·ã®·àö·ã∞·åç·çâ ·àò·à†·à®·â≥·ãä ·äê·åà·àÆ·âΩ ·äì·â∏·ãç·ç¢ ·çÖ·äï·à∞-·àÄ·à≥·â¶·âπ ·â•·ãô ·åä·ãú ·ä•·à≠·àµ ·â†·à≠·àµ ·ã®·â∞·à≥·à∞·à© ·à≤·àÜ·äë ·à∞·àã·àù ·àõ·àà·âµ ·åç·å≠·âµ ·ä†·àà·àò·äñ·à© ·ä•·äì ·ã®·â∞·àµ·àõ·àô ·åç·äï·äô·äê·â∂·âΩ ·àò·äñ·à´·â∏·ãç ·à≤·àÜ·äï ·ã∞·àÖ·äï·äê·âµ ·åç·äï ·åç·àà·à∞·â¶·âΩ·äï·ç£ ·àõ·àÖ·â†·à®·à∞·â¶·âΩ·äï ·ä•·äì ·àÄ·åà·à´·âµ·äï ·ä®·ãç·àµ·å• ·ä•·äì ·ä®·ãç·å™ ·ä´·àâ ·ä†·ã∞·åã·ãé·âΩ ·àò·å†·â†·âÖ·äï ·ã≠·àò·àà·ä®·â≥·àç·ç¢',
        
        // About Section
        aboutTitle: '·àµ·àà ·ä•·äõ',
        aboutText: '·àå·àö ·ä©·à´ ·ã®·à∞·àã·àù·äì ·ã∞·àÖ·äï·äê·âµ ·â¢·àÆ ·ã®·â∞·âã·âã·àò·ãç ·ä†·àµ·â∞·àõ·àõ·äù ·ç£ ·ã®·â∞·à®·åã·åã·äì ·àµ·àù·àù·äê·âµ ·ã´·àà·ãç ·àõ·äÖ·â†·à®·à∞·â• ·ä•·äï·ã≤·äñ·à≠ ·àà·àõ·ãµ·à®·åç ·â†·åΩ·äë ·âÅ·à≠·å†·äù·äê·âµ ·äê·â†·à≠ ·ç¢ ·à´·à≥·âΩ·äï·äï ·ã®·ãà·à∞·äê·ãç ·â°·ãµ·äì·âΩ·äï ·â†·åΩ·äë ·ä†·âã·àù·ç£ ·â†·â∞·å†·ã´·âÇ·äê·âµ·äì ·â†·âµ·â•·â•·à≠ ·àò·à≠·àÜ·âΩ ·â†·àò·àò·à´·âµ ·åç·å≠·âµ·äï ·àà·àò·ä®·àã·ä®·àç·ç£ ·ã®·àï·åç ·ã®·â†·àã·ã≠·äê·âµ·äï ·àà·àõ·àµ·ä®·â†·à≠·äì ·ã®·àÅ·àâ·äï·àù ·äê·ãã·à™·ãé·âΩ ·ã∞·àÖ·äï·äê·âµ ·àà·àò·å†·â†·âÖ ·ã∞·ä®·àò·äù ·à∞·àà·â∏·äù ·à≥·ã≠·àç ·ã≠·à∞·à´·àç·ç¢',
        aboutAddress: '·ä†·ãµ·à´·àª',
        aboutCity: '·ä®·â∞·àõ',
        aboutMission: '·â∞·àç·ä•·äÆ',
        aboutVision: '·à´·ãï·ã≠',
        
        // Services Section
        servicesTitle: '·ä†·åà·àç·åç·àé·â∂·âª·âΩ·äï',
        servicesSubtitle: '·ã®·à∞·àã·àù·äì ·çÄ·å•·â≥ ·ä†·åà·àç·åç·àé·â∂·âΩ ·àà·àõ·àÖ·â†·à®·à∞·â° ·ã∞·àÖ·äï·äê·âµ',
        servicesCta: '·ä•·åà·ãõ ·ä®·çà·àà·åâ ·â£·àà·àû·ã´·ãé·âª·âΩ·äï·äï ·ã´·äê·åã·åç·à©',
        
        // Service Cards
        service1Title: '·âÖ·å•·à≠ ·å•·â†·âÉ ·ãµ·åã·çç·äì ·ä≠·âµ·âµ·àç ·àõ·ãµ·à®·åç',
        service1Desc: '·â†10·à©·àù ·â†·ãà·à®·ã≥ ·ã®·àö·åà·äô ·ã®·âÖ·å•·à≠ ·å•·â†·âÉ ·ä†·ã∞·à®·åÉ·åÄ·â∂·âΩ ·ãà·ã∞·àµ·à´ ·ä•·äï·ã≤·åà·â° ·ä≠·âµ·âµ·àç·äì ·ãµ·åã·çç ·ã´·ã∞·à≠·åã·àç',
        service2Title: '·à∞·àã·àù ·à∞·à´·ãä·âµ ·àµ·àù·à™·âµ',
        service2Desc: '·â†·ãà·à®·ã≥ ·ã®·àö·çà·å∏·àô ·ãà·äï·åÄ·àç ·ãµ·à≠·åä·â∂·âΩ·äï·äì ·àÖ·åà-·ãà·âµ ·â∞·åç·â£·à´·âµ ·àà·àò·ä®·àã·ä®·àç ·àÖ/·à∞·â° ·ä•·à´·à± ·ä•·äì·ä†·ä´·â£·â¢·ãç·äï ·ã®·àö·å†·â†·âÖ·â†·âµ·äï ·ã®·ä†·à∞·à´·à≠ ·àµ·à≠·ä†·âµ ·â†·àò·ãò·à≠·åã·âµ ·àµ·àà·â∞·åç·â£·à´·ãä·äê·â± ·ä≠·âµ·âµ·àç ·ã´·ã∞·à≠·åã·àç·ç°·ç°',
        service3Title: '·àÖ/·à∞·â° ·ã®·çÄ·å•·â≥·ãç ·â£·àà·â§·âµ ·àõ·ãµ·à®·åç',
        service3Desc: '·àÖ/·à∞·â° ·ã®·çÄ·å•·â≥·ãç ·â£·àà·â§·âµ ·ã®·àö·ã´·ã∞·à≠·åâ ·â∞·åç·â£·àÆ·âΩ·äï ·â†·ãà·à®·ã≥·ãç ·ä´·àâ·âµ ·ã®·çÄ·å•·â≥ ·ä†·ä´·àã·âµ ·åã·à≠ ·ã≠·à∞·à´·àç ·ã≠·àÖ·äï·äï·àù ·ä®·àö·àò·àà·ä®·â∞·ãç ·ä†·ä´·àç ·åã·à≠ ·àÜ·äñ ·ã´·àµ·â∞·â£·â•·à´·àç ·ã®·àµ·à´·ãé·âΩ·äì ·ã®·ãç·å§·â∂·âΩ ·àù·äï·å≠ ·àÜ·äì·àç·ç°·ç°',
        service4Title: '8·â±·äï ·ä†·ã∞·à®·åÉ·åÄ·âµ ·ä≠·âµ·âµ·àç·äì ·ãµ·åã·çç',
        service4Desc: '·â†10·à©·àù ·ãà·à®·ã≥·ãé·âΩ ·ãâ·àµ·å• ·ã®·àö·åà·äô·âµ·äï ·ä†·ã∞·à®·åÉ·åÄ·â∂·âΩ ·ä≠·âµ·âµ·àç·äì ·ãµ·åã·çç ·àõ·ãµ·à®·åç',
        service5Title: '·åç·å≠·â∂·âΩ·äï ·àò·çç·â≥·âµ',
        service5Desc: '·â†·ãà·à®·ã≥·ãé·âΩ ·ã®·àö·åà·äô ·â†·çÄ·å•·â≥·äì ·â†·ä•·àù·äê·âµ ·ã´·àâ ·åâ·ã≥·âΩ·äï ·ä†·àµ·àò·àç·ä≠·â∂ ·ã®·àö·âÄ·à≠·â° ·ä†·àµ·çà·àã·åä ·åç·å≠·â∂·âΩ·äï·ç£ ·àÅ·ä®·â∂·âΩ·äï·ä•·äï·ã≤·àÅ·àù ·ä†·â§·â±·â≥·ãé·âΩ·äï ·â†·â∞·ã∞·à´·åÄ·äì ·â†·â∞·âÄ·äì·åÄ ·ä†·åç·â£·â• ·àù·àã·àΩ ·ã≠·à∞·å£·àç·ç°·ç°',
        service6Title: '·àµ·åã·âµ ·â¶·â≥ ·àò·àà·ã®·âµ',
        service6Desc: '·ä®·ãà·à®·ã≥·ãé·âΩ ·åã·à≠ ·â†·àò·àÜ·äï ·àà·ãà·äï·åÄ·àç ·àµ·åã·âµ ·ã®·àÜ·äë·âµ·äï ·ä†·ä´·â£·â¢·ãé·âΩ·äï ·â†·àò·àà·ã®·âµ ·àà·àö·àò·àà·ä®·â∞·ãç ·ä†·ä´·àç ·àò·à®·åÉ ·ã≠·à∞·å£·àç·ç£',
        
        // About Info Items
        aboutAddressText: '·ä®·ã∞·à´·à≠·â± ·ä†·ã∞·â£·â£·ã≠ 500·àú ·åà·â£ ·â•·àé',
        aboutCityText: '·ä†·ã≤·àµ ·ä†·â†·â£',
        aboutMissionText: '·ã®·ä†·ã≤·àµ ·ä†·â†·â£ ·ä®·â∞·àõ ·àç·àõ·âµ·äì ·àò·àç·ä´·àù ·ä†·àµ·â∞·ã≥·ã∞·à≠ ·ã®·àö·àÜ·äï ·àÖ·åé·âΩ ·ãà·å•·â∞·ãç ·äï·âÉ·â∞ ·àÖ·åç ·ä•·äï·ã≤·çà·å†·à≠ ·â†·àõ·ãµ·à®·åç ·ã®·ãà·à®·ã≥·âΩ·äï ·äê·ãã·à™·ãé·âΩ ·ã®·àç·àõ·âµ ·â∞·à£·âµ·çé ·â∞·ã∞·à´·àΩ ·ã®·â∞·âÄ·àã·å†·çà ·ã®·çç·âµ·àÖ ·ä†·åà·àç·åç·àé·âµ ·â†·àò·àµ·å†·âµ ·ãà·äï·åÄ·àç·äï ·â†·àò·ä®·àã·ä®·àç ·ã®·ãà·à®·ã≥·ãç ·ä†·àµ·â∞·ã≥·ã∞·à≠ ·àà·àõ·àÖ·â†·à®·à∞·â° ·åç·äï·ãõ·â§ ·â†·àò·çç·å†·à≠ ·â†·ãà·à®·ã≥·ãç ·ã®·àÖ·åç ·ã®·â†·àã·ã≠·äê·âµ ·ç£ ·à∞·àã·àù·äì ·çÄ·å•·â≥ ·ä•·äï·ã≤·à∞·çç·äï ·àõ·ãµ·à®·åç ·äê·ãç ·ç°·ç°',
        aboutVisionText: '·â†2025·ä†·ã≤·àµ ·ä†·â†·â£ ·à∞·àã·àù·äì ·çÄ·å•·â≥·äì ·à∞·àã·àù ·ã®·à∞·çà·äê·â†·âµ ·ä•·äì ·ã®·àÖ·åç ·ã®·â†·àã·ã≠·äê·âµ ·ã®·â∞·à®·åã·åà·å†·â†·âµ ·ä®·â∞·àõ ·àà·àõ·ãµ·à®·åç·å•·à®·âµ ·ä•·äï·ã∞ ·ãà·à®·ã≥ ·ã®·à´·à£·âΩ·äï·äï ·àö·äì ·àò·å´·ãà·âµ·ç°·ç°',
        
        // News Section
        newsTitle: '·ãú·äì·ãé·âΩ ·ä•·äì ·â•·àé·åé·âΩ',
        newsSubtitle: '·ã®·âÖ·à≠·â• ·åä·ãú ·ãú·äì·ãé·âΩ·ç£ ·àõ·àµ·â≥·ãà·âÇ·ã´·ãé·âΩ ·ä•·äì ·ã®·à∞·àã·àù·äì ·çÄ·å•·â≥ ·åâ·ã≥·ãÆ·âΩ',
        readMore: '·àô·àâ ·ãú·äì·ãç·äï ·ã´·äï·â•·â°',
        comments: '·ä†·àµ·â∞·ã´·ã®·â∂·âΩ',
        addComment: '·ä†·àµ·â∞·ã´·ã®·âµ ·ã≠·àµ·å°',
        commentPlaceholder: '·ä†·àµ·â∞·ã´·ã®·âµ·ãé·äï ·ã≠·åª·çâ...',
        
        // Contact Section
        contactTitle: '·ã®·ä•·äì·äï·â∞·äï ·ä†·àµ·â∞·ã´·ã®·âµ ·ãà·ã≠·àù ·å•·ã´·âÑ ·àà·àò·âÄ·â†·àç ·çà·âÉ·ã∞·äû·âΩ ·äê·äï·ç¢',
        contactSubtitle: '·å•·ã´·âÑ·ãé·âΩ ·ãà·ã≠·àù ·ä†·à≥·à≥·â¢ ·àÅ·äî·â≥·ãé·âΩ ·ä´·àâ·àÖ ·ã´·äê·åã·åç·à©·äï ·ç¢',
        contactAddress: '·ä†·ãµ·à´·àª',
        contactPhone: '·àµ·àç·ä≠',
        contactEmail: 'Email',
        contactHours: '·ã®·àµ·à´ ·à∞·ãì·âµ',
        
        // Footer
        footerQuickLinks: '·çà·å£·äï ·ä†·åà·äì·äû·âΩ',
        footerServices: '·ä†·åà·àç·åç·àé·â∂·âª·âΩ·äï',
        footerContact: '·ã´·åç·äô·äï',
        footerRights: '·àà·àö ·ä©·à´ ·à∞·àã·àù·äì ·çÄ·å•·â≥ ·ä†·àµ·â∞·ã≥·ã∞·à≠·ç¢ ·àÅ·àâ·àù ·àò·â•·â∂·âΩ ·ã®·â∞·å†·â†·âÅ ·äì·â∏·ãç·ç¢',
        footerPrivacy: '·ã®·åç·àã·ãä·äê·âµ ·çñ·àä·à≤',
        footerTerms: '·ã®·ä†·å†·âÉ·âÄ·àù ·ã∞·äï·â•',
        
        // Feedback Collector
        feedbackTitle: '·ã®·ä†·åà·àç·åç·àé·âµ ·åç·àù·åà·àõ ·ã≥·àΩ·â¶·à≠·ãµ',
        
        // Comment Form
        commentsTitle: '·ä†·àµ·â∞·ã´·ã®·â∂·âΩ·ãé·äï ·ã´·ä´·çç·àâ',
        commentsDescription: '·ã®·ä•·à≠·àµ·ãé ·ä†·àµ·â∞·ã´·ã®·âµ ·àà·ä•·äõ ·å†·âÉ·àö ·äê·ãç·ç¢ ·ä•·â£·ä≠·ãé ·àÄ·à≥·â•·ãé·äï·ç£ ·å•·ã´·âÑ·ãé·äï ·ãà·ã≠·àù ·ä†·àµ·â∞·ã´·ã®·âµ·ãé·äï ·ã´·ä´·çç·àâ·ç¢',
        commentAuthor: '·àµ·àù·ãé',
        commentEmail: '·ä¢·àú·ã≠·àç (·ä†·àõ·à´·å≠)',
        commentSubject: '·à≠·ãï·àµ',
        commentText: '·ä†·àµ·â∞·ã´·ã®·âµ·ãé',
        submitComment: '·ä†·àµ·â∞·ã´·ã®·âµ ·àã·ä≠',
        resetForm: '·ã≥·åç·àù ·ä†·àµ·åÄ·àù·à≠',
        like: '·ä†·àµ·ã∞·à≥·âΩ'
    },
    en: {
        // Site Title
        siteTitle: 'Lemi Kura Sub-City Peace and Security Administration Office',
        
        // Navigation
        navHome: 'Home',
        navAbout: 'About Us',
        navServices: 'Our Services',
        navNews: 'News & Blogs',
        navComments: 'Give Feedback',
        navContact: 'Contact Us',
        navFeedback: 'Service Evaluation',
        navAdmin: 'Admin',
        
        // Hero Section
        heroTitle: 'Lemi Kura Peace and Security Administration Committed to Excellence',
        heroDescription: 'We are committed to making Addis Ababa a city where peace, security and rule of law prevail.',
        heroBtnServices: 'View Services',
        heroBtnContact: 'Contact Us',
        
        // Welcome Section
        welcomeText: 'Peace and security are fundamental pillars that support the stability and development of society. These concepts are often interconnected, where peace refers to the absence of conflict and the presence of harmonious relationships, while security involves protecting individuals, communities, and nations from internal and external threats.',
        
        // About Section
        aboutTitle: 'About Us',
        aboutText: 'The Lemi Kura Peace and Security Office was established with a firm commitment to ensuring a safe, stable and harmonious community. Our dedicated team works tirelessly, guided by principles of integrity, accountability and cooperation to prevent conflict, enforce the rule of law and protect the safety of all residents.',
        aboutAddress: 'Address',
        aboutCity: 'City',
        aboutMission: 'Mission',
        aboutVision: 'Vision',
        
        // Services Section
        servicesTitle: 'Our Services',
        servicesSubtitle: 'Peace and security services for community safety',
        servicesCta: 'Contact Our Experts If You Need Help',
        
        // Service Cards
        service1Title: 'Security Guard Support and Monitoring',
        service1Desc: 'Provides monitoring and support for security guard organizations in all 10 sub-districts to ensure they are operational',
        service2Title: 'Peace Force Recruitment',
        service2Desc: 'Establishes and monitors operational systems where the community itself protects its environment to prevent criminal activities and illegal acts in the district',
        service3Title: 'Making the Community Security Owners',
        service3Desc: 'Works with security bodies in the district on activities that make the community security owners and coordinates with relevant bodies as a source of work and results',
        service4Title: 'Support and Monitoring of 8 Organizations',
        service4Desc: 'Monitoring and supporting organizations found in all 10 sub-districts',
        service5Title: 'Conflict Resolution',
        service5Desc: 'Responds to necessary conflicts, riots and complaints related to security and trust issues in the districts in an organized and coordinated manner',
        service6Title: 'Risk Area Identification',
        service6Desc: 'Works with districts to identify areas at risk of crime and provides information to relevant bodies',
        
        // About Info Items
        aboutAddressText: '500m from Derartu Square',
        aboutCityText: 'Addis Ababa',
        aboutMissionText: 'To ensure the rule of law, peace and security in the district by creating awareness for the community through the district administration by preventing crime by providing accessible and efficient justice services for the development participation of our district residents by enacting laws for the development and good governance of Addis Ababa city and creating legal awareness.',
        aboutVisionText: 'To play our role as a district in making Addis Ababa a city where peace, security and rule of law prevail by 2025.',
        
        // News Section
        newsTitle: 'News & Blogs',
        newsSubtitle: 'Latest news, announcements and peace & security updates',
        readMore: 'Read Full Article',
        comments: 'Comments',
        addComment: 'Add Comment',
        commentPlaceholder: 'Write your comment...',
        
        // Contact Section
        contactTitle: 'We Are Ready to Receive Your Feedback or Questions',
        contactSubtitle: 'Contact us if you have questions or concerns.',
        contactAddress: 'Address',
        contactPhone: 'Phone',
        contactEmail: 'Email',
        contactHours: 'Office Hours',
        
        // Footer
        footerQuickLinks: 'Quick Links',
        footerServices: 'Our Services',
        footerContact: 'Contact Us',
        footerRights: 'Lemi Kura Peace and Security Administration. All Rights Reserved.',
        footerPrivacy: 'Privacy Policy',
        footerTerms: 'Terms of Use',
        
        // Feedback Collector
        feedbackTitle: 'Service Evaluation Dashboard',
        
        // Comment Form
        commentsTitle: 'Share Your Comments',
        commentsDescription: 'Your feedback is valuable to us. Please share your thoughts, questions, or comments.',
        commentAuthor: 'Your Name',
        commentEmail: 'Email (Optional)',
        commentSubject: 'Subject',
        commentText: 'Your Comment',
        submitComment: 'Send Comment',
        resetForm: 'Reset Form',
        like: 'Like'
    }
};

// Language Manager Class
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('language') || 'am';
        console.log('üåê Language Manager initialized with:', this.currentLang);
        this.init();
    }

    init() {
        console.log('üîß Initializing language manager, current lang:', this.currentLang);
        this.updateLanguageButton();
        this.applyTranslations();
    }

    toggleLanguage() {
        const oldLang = this.currentLang;
        this.currentLang = this.currentLang === 'am' ? 'en' : 'am';
        console.log('üîÑ Language toggled from', oldLang, 'to', this.currentLang);
        
        localStorage.setItem('language', this.currentLang);
        this.updateLanguageButton();
        this.applyTranslations();
        document.documentElement.lang = this.currentLang;
        
        console.log('‚úÖ Language switch completed to:', this.currentLang);
    }

    updateLanguageButton() {
        const langBtn = document.getElementById('currentLang');
        console.log('üîÑ Updating language button, element found:', !!langBtn, 'current lang:', this.currentLang);
        if (langBtn) {
            // Show the language we can switch TO, not the current language
            const newText = this.currentLang === 'am' ? 'EN' : '·ä†·àõ';
            langBtn.textContent = newText;
            console.log('‚úÖ Language button updated to:', newText, '(shows language we can switch TO)');
        } else {
            console.warn('‚ö†Ô∏è Language button element not found (currentLang)');
        }
    }

    translate(key) {
        const translation = translations[this.currentLang] && translations[this.currentLang][key];
        if (key === 'heroTitle') {
            console.log('üîç HERO TITLE DEBUG:', {
                key: key,
                currentLang: this.currentLang,
                translation: translation,
                expectedEN: 'Lemi Kura Peace and Security Administration Committed to Excellence'
            });
        }
        console.log(`üîç Translating "${key}" for language "${this.currentLang}":`, translation || 'NOT FOUND');
        return translation || key;
    }

    applyTranslations() {
        console.log('üåê Applying translations for language:', this.currentLang);
        console.log('üîç Available translations for this language:', Object.keys(translations[this.currentLang] || {}));
        
        // Update all elements with data-translate attribute
        const elements = document.querySelectorAll('[data-translate]');
        console.log('üìù Found', elements.length, 'elements to translate');
        
        let translatedCount = 0;
        elements.forEach((element, index) => {
            const key = element.getAttribute('data-translate');
            const translation = this.translate(key);
            
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
            
            if (translation !== key) {
                translatedCount++;
                console.log(`‚úÖ Element ${index + 1}: "${key}" ‚Üí "${translation}"`);
            } else {
                console.log(`‚ö†Ô∏è Element ${index + 1}: "${key}" ‚Üí NO TRANSLATION (kept original)`);
            }
        });
        
        console.log('‚úÖ Translations applied:', translatedCount, 'of', elements.length, 'elements translated');
    }
}

// Global function for button onclick
function toggleLanguage() {
    console.log('üåê toggleLanguage called, languageManager:', !!languageManager);
    if (languageManager) {
        languageManager.toggleLanguage();
    } else {
        console.error('‚ùå Language manager not initialized!');
        languageManager = new LanguageManager();
        languageManager.toggleLanguage();
    }
}

// Make toggleLanguage available globally
window.toggleLanguage = toggleLanguage;

// Initialize language manager
let languageManager;

document.addEventListener('DOMContentLoaded', function() {
    console.log('üåê Initializing language manager...');
    languageManager = new LanguageManager();
    console.log('‚úÖ Language manager initialized:', languageManager.currentLang);
    
    // Make sure the toggle button works
    const languageToggle = document.getElementById('languageToggle');
    if (languageToggle) {
        console.log('‚úÖ Language toggle button found');
        
        // Add click event listener
        languageToggle.addEventListener('click', function(e) {
            e.preventDefault();
            console.log('üåê Language toggle clicked via event listener');
            toggleLanguage();
        });
        
        // Add touch event for mobile
        languageToggle.addEventListener('touchstart', function(e) {
            e.preventDefault();
            console.log('üåê Language toggle touched');
            toggleLanguage();
        });
    } else {
        console.error('‚ùå Language toggle button not found!');
    }
});

// Debug functions
window.testLanguageToggle = function() {
    console.log('üß™ Testing language toggle...');
    console.log('- Current language:', languageManager ? languageManager.currentLang : 'not initialized');
    console.log('- Language button exists:', !!document.getElementById('currentLang'));
    console.log('- Language toggle button exists:', !!document.getElementById('languageToggle'));
    console.log('- Language button text:', document.getElementById('currentLang')?.textContent);
    console.log('- LocalStorage language:', localStorage.getItem('language'));
    
    if (languageManager) {
        console.log('üîÑ Triggering language toggle...');
        const beforeLang = languageManager.currentLang;
        const beforeButtonText = document.getElementById('currentLang')?.textContent;
        
        toggleLanguage();
        
        const afterLang = languageManager.currentLang;
        const afterButtonText = document.getElementById('currentLang')?.textContent;
        
        console.log('üìä Toggle results:');
        console.log('  - Before:', beforeLang, '(button showed:', beforeButtonText + ')');
        console.log('  - After:', afterLang, '(button shows:', afterButtonText + ')');
        console.log('  - LocalStorage now:', localStorage.getItem('language'));
        console.log('‚úÖ Language toggle test completed');
    } else {
        console.error('‚ùå Language manager not available');
    }
    
    return 'Language toggle test completed';
};

window.forceLanguage = function(lang) {
    if (!['am', 'en'].includes(lang)) {
        console.error('‚ùå Invalid language. Use "am" or "en"');
        return 'Invalid language';
    }
    
    console.log('üîß Forcing language to:', lang);
    localStorage.setItem('language', lang);
    
    if (languageManager) {
        languageManager.currentLang = lang;
        languageManager.updateLanguageButton();
        languageManager.applyTranslations();
        document.documentElement.lang = lang;
        console.log('‚úÖ Language forced to:', lang);
    } else {
        console.log('‚ö†Ô∏è Language manager not available, will take effect on reload');
    }
    
    return 'Language forced to ' + lang;
};

window.resetLanguageState = function() {
    console.log('üîÑ Resetting language state...');
    localStorage.removeItem('language');
    console.log('‚úÖ Language state reset. Reload page to see default state.');
    return 'Language state reset';
};