<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#38a169">
    <meta name="format-detection" content="telephone=no">
    <meta name="touch-action" content="manipulation">
    <meta name="description" content="·àà·àö ·ä©·à´ ·ä≠/·ä®·â∞·àõ ·à∞·àã·àù·äì ·å∏·å•·â≥ ·ä†·àµ·â∞·ã≥·ã∞·à≠ ·åΩ/·â§·âµ - ·ä†·ã≤·àµ ·ä†·â†·â£·äï ·à∞·àã·àù·äì ·çÄ·å•·â≥·äì ·à∞·àã·àù ·ã®·à∞·çà·äê·â†·âµ ·ä•·äì ·ã®·àÖ·åç ·ã®·â†·àã·ã≠·äê·âµ ·ã®·â∞·à®·åã·åà·å†·â†·âµ ·ä®·â∞·àõ ·ä•·äì·ã∞·à≠·åã·àà·äï">
    <title>·àà·àö ·ä©·à´ ·ä≠/·ä®·â∞·àõ ·à∞·àã·àù·äì ·å∏·å•·â≥ ·ä†·àµ·â∞·ã≥·ã∞·à≠ ·åΩ/·â§·âµ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/modern-style.css">
    <link rel="stylesheet" href="css/news-system.css">
    
    <!-- Dynamic Feedback Form Styles -->
    <style>
        .loading-message {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
            background: rgba(45, 125, 126, 0.05);
            border-radius: 12px;
            margin: 20px 0;
        }
        
        .loading-message i {
            font-size: 36px;
            margin-bottom: 15px;
            color: var(--primary);
            animation: spin 2s linear infinite;
        }
        
        .form-section {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(45, 125, 126, 0.05);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        .form-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .rating-group {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            border: 1px solid rgba(45, 125, 126, 0.1);
        }
        
        .rating-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .rating-stars {
            display: flex;
            gap: 5px;
            margin-bottom: 5px;
        }
        
        .rating-stars .fas.fa-star {
            font-size: 24px;
            color: #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .rating-stars .fas.fa-star:hover {
            transform: scale(1.1);
        }
        
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-2px);
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .form-section {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .rating-stars .fas.fa-star {
                font-size: 20px;
            }
            
            .form-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .form-actions .btn,
            .form-actions .btn-outline {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <!-- Modern Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img class="lg" src='images/hero-bg.png' alt="Logo">
                <span data-translate="siteTitle">Lemi Kura Sub-City Peace and Security Administration Office</span>
            </div>
            <div class="header-controls">
                <!-- Language toggle removed - Amharic only -->
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav>
                <ul id="mainMenu">
                    <li><a href="#home" data-translate="navHome">Home</a></li>
                    <li><a href="#about" data-translate="navAbout">About Us</a></li>
                    <li><a href="#services" data-translate="navServices">Our Services</a></li>
                    <li><a href="#news" data-translate="navNews">News & Blogs</a></li>
                    <li><a href="#comments" data-translate="navComments">Give Feedback</a></li>
                    <li><a href="#contact" data-translate="navContact">Contact Us</a></li>
                    <li><a href="feedback.html" class="cta-button" data-translate="navFeedback">Service Evaluation</a></li>
                    <li><a href="admin.html" class="admin-link" data-translate="navAdmin">Admin</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Modern Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1 data-translate="heroTitle">Lemi Kura Sub-City Peace and Security Administration Office - Committed to Excellence in Peace</h1>
                <p data-translate="heroDescription">We are dedicated to making Addis Ababa a city where peace, security, and the rule of law prevail.</p>
                <div class="hero-buttons">
                    <a href="#services" class="btn btn-primary" data-translate="heroBtnServices">View Services</a>
                    <a href="#contact" class="btn btn-secondary" data-translate="heroBtnContact">Contact Us</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Modern Welcome Section -->
    <section class="welcome fade-in">
        <div class="container">
            <div class="welcome-content">
                <p data-translate="welcomeText">Peace and security are fundamental elements that support the stability and development of society. These concepts are often interconnected, where peace refers to the absence of conflict and the presence of harmonious relationships, while security involves protecting individuals, communities, and nations from internal and external threats.</p>
            </div>
        </div>
    </section>

    <!-- Modern About Section -->
    <section class="about fade-in" id="about">
        <div class="container">
            <div class="section-title">
                <h2 data-translate="aboutTitle">About Us</h2>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <p data-translate="aboutText">The Lemi Kura Peace and Security Office was established with a firm commitment to creating a safe, stable, and harmonious community. Our dedicated team, guided by principles of integrity, accountability, and cooperation, works tirelessly to prevent conflicts, enforce the rule of law, and protect the safety of all residents.</p>
                    <div class="about-info">
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <h4 data-translate="aboutAddress">Address</h4>
                            <p data-translate="aboutAddressText">500 meters from Derartu Square</p>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-city"></i>
                            <h4 data-translate="aboutCity">City</h4>
                            <p data-translate="aboutCityText">Addis Ababa</p>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-bullseye"></i>
                            <h4 data-translate="aboutMission">Mission</h4>
                            <p data-translate="aboutMissionText">To ensure the rule of law, peace, and security in our district by implementing laws that promote good governance and development in Addis Ababa, creating legal awareness among our residents, providing accessible and efficient justice services, preventing crime, and fostering community understanding of district administration.</p>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-lightbulb"></i>
                            <h4 data-translate="aboutVision">Vision</h4>
                            <p data-translate="aboutVisionText">Vision Text</p>
                        </div>
                    </div>
                </div>
                            <i class="fas fa-phone"></i>
                            <h4>Phone</h4>
                            <p>+251-11-XXX-XXXX</p>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <img src="images/pro.jpg" alt="Office Interior">
                </div>
            </div>
        </div>
    </section>

    <!-- Modern Services Section -->
    <section class="services fade-in" id="services">
        <div class="container">
            <div class="section-title">
                <h2 data-translate="servicesTitle">Our Services</h2>
                <p data-translate="servicesSubtitle">Peace and security services for community safety</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3 data-translate="service1Title">Community Security Support and Monitoring</h3>
                    <p data-translate="service1Desc">We provide support and monitoring to ensure community security organizations in all 10 districts are operational and effective.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-users-cog"></i>
                    <h3 data-translate="service2Title">Peace Corps Deployment</h3>
                    <p data-translate="service2Desc">We establish and monitor operational systems where the community protects itself and its surroundings to prevent criminal activities and illegal actions in the district.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-hands-helping"></i>
                    <h3 data-translate="service3Title">Community Ownership of Security</h3>
                    <p data-translate="service3Desc">We work with district security agencies to implement activities that make the community owners of their security, coordinating with relevant bodies to ensure effective outcomes.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-network-wired"></i>
                    <h3 data-translate="service4Title">Organizational Support and Monitoring</h3>
                    <p data-translate="service4Desc">Providing support and monitoring to organizations within the 10 districts to ensure effective operations.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-balance-scale"></i>
                    <h3 data-translate="service5Title">Conflict Resolution</h3>
                    <p data-translate="service5Desc">We provide organized and coordinated responses to necessary conflicts, disturbances, and complaints related to security and trust issues in the districts.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-search-location"></i>
                    <h3 data-translate="service6Title">Risk Area Identification</h3>
                    <p data-translate="service6Desc">Working with districts to identify areas at risk of crime and providing information to relevant authorities.</p>
                </div>
            </div>
            <div class="service-cta">
                <a href="#contact" class="btn btn-primary" data-translate="servicesCta">Contact Our Experts for Assistance</a>
            </div>
        </div>
    </section>

    <!-- Modern News Section -->
    <section class="news fade-in" id="news">
        <div class="container">
            <div class="section-title">
                <h2 data-translate="newsTitle">News & Blogs</h2>
                <p data-translate="newsSubtitle">Latest news, announcements, and peace & security updates</p>
            </div>
            <div class="news-grid" id="newsContainer">
                <!-- News items will be loaded here dynamically -->
            </div>
        </div>
    </section>

    <!-- Enhanced News Reader Modal -->
    <div id="newsModal" class="news-reader-modal">
        <div class="news-reader-overlay" onclick="closeNewsModal()"></div>
        <div class="news-reader-container">
            <!-- Reader Header -->
            <div class="news-reader-header">
                <button class="reader-back-btn" onclick="closeNewsModal()" aria-label="Close reader">
                    <i class="fas fa-arrow-left"></i>
                    <span>Back</span>
                </button>
                <div class="reader-actions">
                    <button class="reader-action-btn" onclick="shareNews()" aria-label="Share article">
                        <i class="fas fa-share-alt"></i>
                    </button>
                    <button class="reader-action-btn" onclick="toggleBookmark()" aria-label="Bookmark article">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <button class="reader-action-btn" onclick="adjustTextSize()" aria-label="Text size">
                        <i class="fas fa-text-height"></i>
                    </button>
                </div>
            </div>

            <!-- Reader Content -->
            <div class="news-reader-content">
                <div class="reader-progress-bar">
                    <div class="progress-fill"></div>
                </div>
                
                <article class="news-article" id="newsArticle">
                    <div id="modalContent">
                        <!-- Article content will be loaded here -->
                    </div>
                </article>

                <!-- Article Footer -->
                <div class="article-footer">
                    <div class="article-engagement">
                        <button class="engagement-btn like-article-btn" onclick="likeCurrentArticle()">
                            <i class="far fa-heart"></i>
                            <span class="engagement-count">0</span>
                            <span class="engagement-label">·ãà·ã≥·åÖ·äê·âµ</span>
                        </button>
                        <button class="engagement-btn comment-toggle-btn" onclick="toggleComments()">
                            <i class="far fa-comment"></i>
                            <span class="engagement-count">0</span>
                            <span class="engagement-label">·ä†·àµ·â∞·ã´·ã®·âµ</span>
                        </button>
                        <button class="engagement-btn share-btn" onclick="shareNews()">
                            <i class="fas fa-share"></i>
                            <span class="engagement-label">·ä†·åã·à´</span>
                        </button>
                    </div>
                </div>

                <!-- Enhanced Comments Section -->
                <div class="comments-section" id="commentsSection">
                    <div class="comments-header">
                        <h3>·ä†·àµ·â∞·ã´·ã®·â∂·âΩ</h3>
                        <button class="comments-close-btn" onclick="toggleComments()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="comments-container" id="commentsContainer">
                        <!-- Comments will be loaded here -->
                    </div>
                    
                    <div class="comment-form-container">
                        <div class="comment-form">
                            <textarea id="newsCommentText" placeholder="·ä†·àµ·â∞·ã´·ã®·âµ·ãé·äï ·ã≠·åª·çâ..." rows="3"></textarea>
                            <div class="comment-form-actions">
                                <button class="btn btn-secondary" onclick="clearComment()">·à∞·à≠·ãù</button>
                                <button class="btn btn-primary" onclick="addNewsComment()">
                                    <i class="fas fa-paper-plane"></i>
                                    ·ä†·àµ·â∞·ã´·ã®·âµ ·àã·ä≠
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modern Contact Section -->
    <section class="contact fade-in" id="contact">
        <div class="container">
            <div class="section-title">
                <h2 data-translate="contactTitle">We're Ready to Receive Your Feedback or Questions</h2>
                <p data-translate="contactSubtitle">If you have questions or concerns, please contact us.</p>
            </div>
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <h4 data-translate="contactAddress">Address</h4>
                            <p>500 meters from Derartu Square, Addis Ababa, Ethiopia</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <h4 data-translate="contactPhone">Phone</h4>
                            <p>+251 923-72-0475</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <h4 data-translate="contactEmail">Email</h4>
                            <p>info@lemikurapeace.com</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <h4 data-translate="contactHours">Working Hours</h4>
                            <p data-translate="contactHoursText">Monday - Saturday: 8:00 AM - 8:00 PM<br>Sunday: Closed</p>
                        </div>
                    </div>
                    <div class="map-container">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3940.4937094165847!2d38.74516737584896!3d9.018847091003896!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x164b85cef5ab402b%3A0x8467b6b037a24d49!2sAddis%20Ababa%2C%20Ethiopia!5e0!3m2!1sen!2set!4v1734634800000!5m2!1sen!2set" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dynamic Feedback Section (Uses Admin Panel Questions) -->
    <section class="comment-submission fade-in" id="comments">
        <div class="container">
            <div class="section-title">
                <h2 data-translate="feedbackTitle">·ã®·ä†·åà·àç·åç·àé·âµ ·åç·àù·åà·àõ</h2>
                <p data-translate="feedbackDescription">·ã®·ä•·äõ·äï ·ä†·åà·àç·åç·àé·âµ ·àà·àõ·àª·àª·àç ·ã®·ä•·à≠·àµ·ãé ·ä†·àµ·â∞·ã´·ã®·âµ ·å†·âÉ·àö ·äê·ãç·ç¢ ·ä•·â£·ä≠·ãé ·ã®·àö·ä®·â∞·àâ·âµ·äï ·å•·ã´·âÑ·ãé·âΩ ·ã≠·àô·àâ·ç¢</p>
            </div>
            
            <!-- Loading State -->
            <div id="feedbackLoadingState" class="loading-message" style="display: block;">
                <i class="fas fa-spinner fa-spin"></i>
                <h3>·ã®·åç·àù·åà·àõ ·âÖ·åΩ ·ä•·ã®·â∞·å´·äê ·äê·ãç...</h3>
                <p>·ä•·â£·ä≠·ãé ·ã≠·å†·â•·âÅ·ç£ ·ä®·ä†·àµ·â∞·ã≥·ã≥·à™ ·çì·äê·àç ·ã®·â∞·ãò·åã·åÅ ·å•·ã´·âÑ·ãé·âΩ·äï ·ä•·ã®·å´·äï·äï ·äê·ãç·ç¢</p>
            </div>
            
            <!-- Dynamic Feedback Form -->
            <div id="dynamicFeedbackContainer" class="comment-form-container" style="display: none;">
                <form id="mainPageFeedbackForm" class="comment-form">
                    <!-- Dynamic form content will be loaded here -->
                    <div id="mainPageDynamicContent">
                        <!-- Questions will be generated dynamically from admin panel -->
                    </div>
                    
                    <!-- Submit Actions -->
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                            <span data-translate="submitFeedback">·åç·àù·åà·àõ ·àã·ä≠</span>
                        </button>
                        <button type="reset" class="btn btn-secondary">
                            <i class="fas fa-undo"></i>
                            <span data-translate="resetForm">·ã≥·åç·àù ·åÄ·àù·à≠</span>
                        </button>
                        <a href="feedback.html" class="btn btn-outline" style="margin-left: 10px;">
                            <i class="fas fa-external-link-alt"></i>
                            <span>·àô·àâ ·âÖ·åΩ</span>
                        </a>
                    </div>
                </form>
            </div>
            
            <!-- Fallback Simple Comment Form (if dynamic loading fails) -->
            <div id="fallbackCommentForm" class="comment-form-container" style="display: none;">
                <div class="alert alert-warning" style="margin-bottom: 20px; padding: 15px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; color: #856404;">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>·àõ·à≥·à∞·â¢·ã´:</strong> ·ã®·â∞·àà·ãã·ãã·å≠ ·âÖ·åΩ ·àò·å´·äï ·ä†·àç·â∞·à≥·ä´·àù·ç¢ ·âÄ·àã·àç ·ä†·àµ·â∞·ã´·ã®·âµ ·âÖ·åΩ ·ä•·ã®·â∞·å†·âÄ·àô ·äê·ãç·ç¢
                </div>
                <form id="publicCommentForm" class="comment-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="commentAuthor"><i class="fas fa-user"></i> <span data-translate="commentAuthor">·ã®·ä•·à≠·àµ·ãé ·àµ·àù</span></label>
                            <input type="text" id="commentAuthor" name="author" required>
                        </div>
                        <div class="form-group">
                            <label for="commentEmail"><i class="fas fa-envelope"></i> <span data-translate="commentEmail">·ä¢·àú·ã≠·àç (·ä†·àõ·à´·å≠)</span></label>
                            <input type="email" id="commentEmail" name="email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="commentSubject"><i class="fas fa-tag"></i> <span data-translate="commentSubject">·à≠·ãï·àµ</span></label>
                        <select id="commentSubject" name="subject" required>
                            <option value="">·à≠·ãï·àµ ·ã≠·àù·à®·å°</option>
                            <option value="General Feedback">·ä†·å†·âÉ·àã·ã≠ ·ä†·àµ·â∞·ã´·ã®·âµ</option>
                            <option value="Service Request">·ã®·ä†·åà·àç·åç·àé·âµ ·å•·ã´·âÑ</option>
                            <option value="Complaint">·âÖ·à¨·â≥</option>
                            <option value="Appreciation">·ä†·ãµ·äì·âÜ·âµ</option>
                            <option value="Suggestion">·àÄ·à≥·â•</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="commentText"><i class="fas fa-comment"></i> <span data-translate="commentText">·ã®·ä•·à≠·àµ·ãé ·ä†·àµ·â∞·ã´·ã®·âµ</span></label>
                        <textarea id="commentText" name="text" rows="5" required placeholder="·ä•·â£·ä≠·ãé ·ä†·àµ·â∞·ã´·ã®·âµ·ãé·äï ·ä•·ãö·àÖ ·ã≠·åª·çâ..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> <span data-translate="submitComment">·ä†·àµ·â∞·ã´·ã®·âµ ·àã·ä≠</span>
                        </button>
                        <button type="reset" class="btn btn-secondary">
                            <i class="fas fa-undo"></i> <span data-translate="resetForm">·ã≥·åç·àù ·åÄ·àù·à≠</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Modern Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3 data-translate="siteTitle">Lemi Kura Sub-City Peace and Security Administration</h3>
                    <p data-translate="heroDescription">We are dedicated to making Addis Ababa a city where peace, security, and the rule of law prevail.</p>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3 data-translate="footerQuickLinks">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home" data-translate="navHome"><i class="fas fa-home"></i> Home</a></li>
                        <li><a href="#about" data-translate="navAbout"><i class="fas fa-info-circle"></i> About Us</a></li>
                        <li><a href="#services" data-translate="navServices"><i class="fas fa-cogs"></i> Services</a></li>
                        <li><a href="#news" data-translate="navNews"><i class="fas fa-newspaper"></i> News & Blogs</a></li>
                        <li><a href="#comments" data-translate="navComments"><i class="fas fa-comment"></i> Give Feedback</a></li>
                        <li><a href="#contact" data-translate="navContact"><i class="fas fa-envelope"></i> Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3 data-translate="footerServices">Our Services</h3>
                    <ul class="footer-links">
                        <li><a href="#" data-translate="service2Title"><i class="fas fa-shield-alt"></i> Peace Corps Deployment</a></li>
                        <li><a href="#" data-translate="service3Title"><i class="fas fa-users"></i> Community Security Ownership</a></li>
                        <li><a href="#" data-translate="service4Title"><i class="fas fa-network-wired"></i> Organizational Support</a></li>
                        <li><a href="#" data-translate="service5Title"><i class="fas fa-balance-scale"></i> Conflict Resolution</a></li>
                        <li><a href="#" data-translate="service6Title"><i class="fas fa-search-location"></i> Risk Area Identification</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3 data-translate="footerContact">Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> Lemi Kura, Addis Ababa</li>
                        <li><i class="fas fa-phone"></i> +251923720475</li>
                        <li><i class="fas fa-envelope"></i> info@lemikurapeace.com</li>
                        <li><i class="fas fa-clock"></i> Monday - Saturday: 8:00 AM - 8:00 PM</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 <span data-translate="footerRights">Lemi Kura Peace and Security Administration. All rights reserved.</span></p>
                <ul class="footer-links-inline">
                    <li><a href="#" data-translate="footerPrivacy">Privacy Policy</a></li>
                    <li><a href="#" data-translate="footerTerms">Terms of Use</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- Supabase CDN with robust fallback -->
    <script>
        // Robust Supabase loading with multiple CDNs and proper waiting
        (function() {
            let supabaseLoaded = false;
            let loadAttempts = 0;
            const maxAttempts = 3;
            
            const cdnUrls = [
                'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.js',
                'https://unpkg.com/@supabase/supabase-js@2.39.3/dist/umd/supabase.js',
                'https://cdn.skypack.dev/@supabase/supabase-js@2.39.3'
            ];
            
            function loadSupabaseScript(url, callback) {
                const script = document.createElement('script');
                script.src = url;
                script.timeout = 10000; // 10 second timeout
                
                const timeoutId = setTimeout(() => {
                    console.log('‚è∞ Timeout loading from:', url);
                    callback(false);
                }, 10000);
                
                script.onload = function() {
                    clearTimeout(timeoutId);
                    if (typeof window.supabase !== 'undefined') {
                        console.log('‚úÖ Supabase loaded from:', url);
                        supabaseLoaded = true;
                        callback(true);
                    } else {
                        console.log('‚ö†Ô∏è Script loaded but Supabase not available from:', url);
                        callback(false);
                    }
                };
                
                script.onerror = function() {
                    clearTimeout(timeoutId);
                    console.log('‚ùå Failed to load from:', url);
                    callback(false);
                };
                
                document.head.appendChild(script);
            }
            
            function tryNextCDN() {
                if (supabaseLoaded || loadAttempts >= maxAttempts) {
                    if (!supabaseLoaded) {
                        console.log('‚ö†Ô∏è All Supabase CDNs failed - using fallback mode');
                        window.supabaseLoadFailed = true;
                        // Set up fallback mode
                        window.supabase = {
                            createClient: function() {
                                return {
                                    from: function() {
                                        return {
                                            select: function() {
                                                return Promise.resolve({ data: [], error: null });
                                            },
                                            insert: function() {
                                                return Promise.resolve({ data: null, error: 'Offline mode' });
                                            },
                                            update: function() {
                                                return Promise.resolve({ data: null, error: 'Offline mode' });
                                            },
                                            delete: function() {
                                                return Promise.resolve({ data: null, error: 'Offline mode' });
                                            }
                                        };
                                    }
                                };
                            }
                        };
                    }
                    return;
                }
                
                const url = cdnUrls[loadAttempts];
                console.log(`üîÑ Loading Supabase from CDN ${loadAttempts + 1}/${maxAttempts}:`, url);
                loadAttempts++;
                
                loadSupabaseScript(url, function(success) {
                    if (!success) {
                        setTimeout(tryNextCDN, 1000); // Wait 1 second before trying next CDN
                    }
                });
            }
            
            // Start loading immediately
            tryNextCDN();
        })();
    </script>
    
    <!-- Supabase Configuration -->
    <script src="js/supabase-config.js"></script>
    <script src="js/supabase-service.js"></script>
    
    <!-- Main Page Scripts -->
    <script src="js/script.js"></script>
    
    <!-- Android Navbar Enhancement -->
    <script src="js/android-navbar-enhancement.js"></script>
    
    <!-- Android Select-Based Navigation (Alternative to scrolling) -->
    <script src="js/android-select-navbar.js"></script>
    
    <!-- Amharic Translation System -->
    <script src="js/amharic-system.js?v=2025123002"></script>
    
    <!-- App Scripts -->
    <script>
        // Initialize main page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üè† Home page loading...');
            
            // Initialize main page news - wait for Supabase to load
            setTimeout(function() {
                if (typeof loadNewsData === 'function') {
                    console.log('üöÄ Starting news loading process...');
                    loadNewsData();
                    console.log('‚úÖ Main page news loading initiated');
                } else {
                    console.error('‚ùå loadNewsData function not found');
                }
            }, 2000); // Increased delay to allow Supabase to load
            
            // Initialize dynamic feedback system
            setTimeout(function() {
                console.log('üîÑ Initializing dynamic feedback system...');
                initializeDynamicFeedback();
            }, 2500); // Load after news system
        });
        
        // Dynamic Feedback System for Main Page
        let mainPageQuestionConfig = {};
        
        // Default configuration (fallback)
        const defaultMainPageConfig = {
            personal: [
                {
                    id: 'fullName',
                    label: '·àô·àâ ·àµ·àù',
                    type: 'text',
                    required: true,
                    placeholder: ''
                },
                {
                    id: 'serviceType',
                    label: '·ã®·â∞·âÄ·â†·àâ·âµ ·ä†·åà·àç·åç·àé·âµ',
                    type: 'select',
                    required: true,
                    options: ['·âÖ·å•·à≠ ·å•·â†·âÉ ·ä†·åà·àç·åç·àé·âµ', '·à∞·àã·àù ·à∞·à´·ãä·âµ', '·åç·å≠·âµ ·àò·çç·â≥·âµ', '·ã®·àõ·àÖ·â†·à®·à∞·â• ·çÄ·å•·â≥', '·àµ·åã·âµ ·â¶·â≥ ·àò·àà·ã®·âµ', '·àå·àã']
                }
            ],
            rating: [
                {
                    id: 'overall_satisfaction',
                    label: '·ä†·å†·âÉ·àã·ã≠ ·ä•·à≠·ä´·â≥',
                    type: 'rating',
                    required: true
                },
                {
                    id: 'service_quality',
                    label: '·ã®·ä†·åà·àç·åç·àé·âµ ·å•·à´·âµ',
                    type: 'rating',
                    required: true
                }
            ],
            text: [
                {
                    id: 'suggestions',
                    label: '·àà·àõ·àª·àª·ã´ ·àÄ·à≥·â¶·âΩ',
                    type: 'textarea',
                    required: false,
                    placeholder: '·ã®·ä†·åà·àç·åç·àé·â≥·âΩ·äï·äï ·àà·àõ·àª·àª·àç ·ã´·àâ·ãé·âµ·äï ·àÄ·à≥·â¶·âΩ ·ã≠·åª·çâ...'
                }
            ]
        };

        // Initialize dynamic feedback system
        async function initializeDynamicFeedback() {
            try {
                console.log('üìã Loading question configuration from admin panel...');
                
                // Show loading state
                document.getElementById('feedbackLoadingState').style.display = 'block';
                document.getElementById('dynamicFeedbackContainer').style.display = 'none';
                document.getElementById('fallbackCommentForm').style.display = 'none';
                
                // Load configuration from admin panel
                await loadMainPageQuestionConfig();
                
                // Generate the form
                generateMainPageForm();
                
                // Initialize star ratings
                setTimeout(initializeMainPageStarRatings, 100);
                
                // Set up form submission
                setupMainPageFormSubmission();
                
                // Show the dynamic form
                document.getElementById('feedbackLoadingState').style.display = 'none';
                document.getElementById('dynamicFeedbackContainer').style.display = 'block';
                
                console.log('‚úÖ Dynamic feedback system initialized successfully');
                
            } catch (error) {
                console.error('‚ùå Error initializing dynamic feedback:', error);
                
                // Show fallback form
                document.getElementById('feedbackLoadingState').style.display = 'none';
                document.getElementById('dynamicFeedbackContainer').style.display = 'none';
                document.getElementById('fallbackCommentForm').style.display = 'block';
                
                console.log('‚ö†Ô∏è Using fallback comment form');
            }
        }

        // Load configuration from admin panel
        async function loadMainPageQuestionConfig() {
            try {
                // Wait for Supabase to be available
                let attempts = 0;
                while (attempts < 10 && (typeof window.supabase === 'undefined' || !window.supabase)) {
                    console.log(`‚è≥ Waiting for Supabase... attempt ${attempts + 1}`);
                    await new Promise(resolve => setTimeout(resolve, 500));
                    attempts++;
                }
                
                if (typeof window.supabase !== 'undefined' && window.supabase && typeof window.supabase.from === 'function') {
                    console.log('üì° Loading question config from admin panel...');
                    
                    const { data, error } = await window.supabase
                        .from('question_config')
                        .select('*')
                        .order('created_at', { ascending: false })
                        .limit(1);
                    
                    if (error) {
                        console.error('‚ùå Supabase error:', error);
                        throw error;
                    } else if (data && data.length > 0) {
                        mainPageQuestionConfig = data[0].config;
                        console.log('‚úÖ Loaded admin question config for main page!');
                        
                        // Save to localStorage as backup
                        localStorage.setItem('mainPageQuestionConfig', JSON.stringify(mainPageQuestionConfig));
                        return;
                    } else {
                        console.log('üìù No admin question config found');
                        throw new Error('No config found');
                    }
                } else {
                    console.log('‚ö†Ô∏è Supabase not available');
                    throw new Error('Supabase not available');
                }
            } catch (error) {
                console.log('üîÑ Trying localStorage backup...');
                
                // Try localStorage backup
                const savedConfig = localStorage.getItem('mainPageQuestionConfig');
                if (savedConfig) {
                    try {
                        mainPageQuestionConfig = JSON.parse(savedConfig);
                        console.log('‚úÖ Loaded config from localStorage backup');
                        return;
                    } catch (parseError) {
                        console.error('‚ùå Error parsing localStorage config:', parseError);
                    }
                }
                
                // Use default config
                console.log('üìù Using default main page config');
                mainPageQuestionConfig = defaultMainPageConfig;
            }
        }

        // Generate main page form HTML
        function generateMainPageForm() {
            const container = document.getElementById('mainPageDynamicContent');
            let formHTML = '';

            // Category info for main page (simplified)
            const categoryInfo = {
                personal: { title: '·ã®·åç·àç ·àò·à®·åÉ', icon: 'fas fa-user' },
                rating: { title: '·ã®·ä•·à≠·ä´·â≥ ·ã∞·à®·åÉ', icon: 'fas fa-star' },
                text: { title: '·â∞·å®·àõ·à™ ·ä†·àµ·â∞·ã´·ã®·âµ', icon: 'fas fa-comment' }
            };

            // Only show essential categories on main page
            const mainPageCategories = ['personal', 'rating', 'text'];
            
            mainPageCategories.forEach(category => {
                if (mainPageQuestionConfig[category] && mainPageQuestionConfig[category].length > 0) {
                    const info = categoryInfo[category];
                    formHTML += `
                        <div class="form-section" style="margin-bottom: 30px; padding: 20px; background: rgba(45, 125, 126, 0.05); border-radius: 12px;">
                            <h3 style="color: var(--primary); margin-bottom: 20px; font-size: 18px; display: flex; align-items: center; gap: 10px;">
                                <i class="${info.icon}"></i> ${info.title}
                            </h3>
                    `;

                    // Show only first 2-3 questions per category for main page
                    const questionsToShow = category === 'rating' ? 2 : (category === 'personal' ? 2 : 1);
                    const questions = mainPageQuestionConfig[category].slice(0, questionsToShow);
                    
                    if (category === 'personal') {
                        formHTML += '<div class="form-row">';
                        questions.forEach((question, index) => {
                            if (index > 0 && index % 2 === 0) {
                                formHTML += '</div><div class="form-row">';
                            }
                            formHTML += generateMainPageQuestionHTML(question);
                        });
                        formHTML += '</div>';
                    } else {
                        questions.forEach(question => {
                            formHTML += generateMainPageQuestionHTML(question);
                        });
                    }

                    formHTML += '</div>';
                }
            });

            container.innerHTML = formHTML;
        }

        // Generate individual question HTML for main page
        function generateMainPageQuestionHTML(question) {
            const required = question.required ? 'required' : '';
            const placeholder = question.placeholder ? `placeholder="${question.placeholder}"` : '';

            switch (question.type) {
                case 'text':
                    return `
                        <div class="form-group">
                            <label for="${question.id}">${question.label}</label>
                            <input type="text" id="${question.id}" name="${question.id}" ${required} ${placeholder}>
                        </div>
                    `;

                case 'textarea':
                    return `
                        <div class="form-group">
                            <label for="${question.id}">${question.label}</label>
                            <textarea id="${question.id}" name="${question.id}" rows="3" ${required} ${placeholder}></textarea>
                        </div>
                    `;

                case 'select':
                    const options = question.options.map(option => 
                        `<option value="${option}">${option}</option>`
                    ).join('');
                    return `
                        <div class="form-group">
                            <label for="${question.id}">${question.label}</label>
                            <select id="${question.id}" name="${question.id}" ${required}>
                                <option value="">${question.label} ·ã≠·àù·à®·å°</option>
                                ${options}
                            </select>
                        </div>
                    `;

                case 'rating':
                    return `
                        <div class="rating-group" style="margin-bottom: 20px; padding: 15px; background: rgba(255, 255, 255, 0.7); border-radius: 8px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600;">${question.label}</label>
                            <div class="rating-stars" data-rating="${question.id}" style="display: flex; gap: 5px; margin-bottom: 5px;">
                                <i class="fas fa-star" data-value="1" style="font-size: 24px; color: #ddd; cursor: pointer;"></i>
                                <i class="fas fa-star" data-value="2" style="font-size: 24px; color: #ddd; cursor: pointer;"></i>
                                <i class="fas fa-star" data-value="3" style="font-size: 24px; color: #ddd; cursor: pointer;"></i>
                                <i class="fas fa-star" data-value="4" style="font-size: 24px; color: #ddd; cursor: pointer;"></i>
                                <i class="fas fa-star" data-value="5" style="font-size: 24px; color: #ddd; cursor: pointer;"></i>
                            </div>
                            <input type="hidden" name="${question.id}" id="${question.id}">
                        </div>
                    `;

                default:
                    return '';
            }
        }

        // Initialize star rating system for main page
        function initializeMainPageStarRatings() {
            document.querySelectorAll('.rating-stars').forEach(ratingGroup => {
                const stars = ratingGroup.querySelectorAll('.fas.fa-star');
                const ratingName = ratingGroup.dataset.rating;
                const hiddenInput = document.getElementById(ratingName);
                
                if (!hiddenInput) return;
                
                stars.forEach((star, index) => {
                    star.addEventListener('click', () => {
                        const rating = index + 1;
                        hiddenInput.value = rating;
                        
                        // Update visual state
                        stars.forEach((s, i) => {
                            if (i < rating) {
                                s.style.color = '#ffd700';
                            } else {
                                s.style.color = '#ddd';
                            }
                        });
                    });
                    
                    star.addEventListener('mouseover', () => {
                        const rating = index + 1;
                        stars.forEach((s, i) => {
                            if (i < rating) {
                                s.style.color = '#ffd700';
                            } else {
                                s.style.color = '#ddd';
                            }
                        });
                    });
                });
                
                ratingGroup.addEventListener('mouseleave', () => {
                    const currentRating = hiddenInput.value;
                    stars.forEach((s, i) => {
                        if (i < currentRating) {
                            s.style.color = '#ffd700';
                        } else {
                            s.style.color = '#ddd';
                        }
                    });
                });
            });
        }

        // Setup form submission for main page
        function setupMainPageFormSubmission() {
            const form = document.getElementById('mainPageFeedbackForm');
            if (!form) return;
            
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Show loading state
                const submitBtn = this.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ·ä•·ã®·â∞·àç·ä´·àç...';
                submitBtn.disabled = true;
                
                try {
                    // Validate required fields
                    const requiredFields = this.querySelectorAll('[required]');
                    let allValid = true;
                    
                    requiredFields.forEach(field => {
                        if (!field.value.trim()) {
                            allValid = false;
                            field.style.borderColor = '#e53e3e';
                        } else {
                            field.style.borderColor = '';
                        }
                    });
                    
                    if (!allValid) {
                        alert('·ä•·â£·ä≠·ãé ·àÅ·àâ·äï·àù ·ã®·àö·ã´·àµ·çà·àç·åâ ·àò·àµ·äÆ·âΩ ·ã≠·àô·àâ!');
                        return;
                    }
                    
                    // Collect form data
                    const formData = new FormData(this);
                    const feedbackData = {};
                    
                    for (let [key, value] of formData.entries()) {
                        feedbackData[key] = value;
                    }
                    
                    // Add metadata
                    feedbackData.timestamp = new Date().toISOString();
                    feedbackData.date_display = new Date().toLocaleDateString('am-ET');
                    feedbackData.source = 'main_page';
                    
                    console.log('üìù Submitting main page feedback:', feedbackData);
                    
                    // Try to save to Supabase
                    const success = await saveMainPageFeedbackToSupabase(feedbackData);
                    
                    if (success) {
                        alert('·ä†·àò·à∞·åç·äì·àà·äï! ·ã®·ä•·à≠·àµ·ãé ·åç·àù·åà·àõ ·â†·â∞·à≥·ä´ ·àÅ·äî·â≥ ·â∞·àç·ä≥·àç·ç¢');
                        
                        // Reset form
                        this.reset();
                        
                        // Reset star ratings
                        document.querySelectorAll('.rating-stars .fas.fa-star').forEach(star => {
                            star.style.color = '#ddd';
                        });
                        
                        // Clear hidden inputs
                        document.querySelectorAll('input[type="hidden"]').forEach(input => {
                            input.value = '';
                        });
                        
                    } else {
                        alert('·åç·àù·åà·àõ·ãé ·â†·åä·ãú·ã´·ãä ·àõ·ä®·àõ·âª ·â∞·âÄ·àù·åß·àç·ç¢ ·ä•·â£·ä≠·ãé ·ä†·àµ·â∞·ã≥·ã≥·à™·ãç·äï ·ã´·à≥·ãç·âÅ·ç¢');
                        this.reset();
                    }
                    
                } catch (error) {
                    console.error('‚ùå Error submitting main page feedback:', error);
                    alert('·àµ·àÖ·â∞·âµ ·â∞·ä®·àµ·â∑·àç·ç¢ ·ä•·â£·ä≠·ãé ·ä•·äï·ã∞·åà·äì ·ã≠·àû·ä≠·à©·ç¢');
                } finally {
                    // Restore button
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            });
        }

        // Save main page feedback to Supabase
        async function saveMainPageFeedbackToSupabase(feedbackData) {
            try {
                if (typeof window.supabase === 'undefined' || !window.supabase || typeof window.supabase.from !== 'function') {
                    console.log('‚ö†Ô∏è Supabase not available, using localStorage');
                    
                    // Save to localStorage as backup
                    let feedbacks = JSON.parse(localStorage.getItem('mainPageFeedbacks') || '[]');
                    feedbacks.push(feedbackData);
                    localStorage.setItem('mainPageFeedbacks', JSON.stringify(feedbacks));
                    
                    return false; // Indicate localStorage was used
                }
                
                console.log('üíæ Saving main page feedback to Supabase...');
                
                const { data, error } = await window.supabase
                    .from('feedback')
                    .insert([{
                        full_name: feedbackData.fullName || 'Main Page User',
                        service_type: feedbackData.serviceType || 'Main Page Feedback',
                        overall_satisfaction: parseInt(feedbackData.overall_satisfaction) || 0,
                        service_quality: parseInt(feedbackData.service_quality) || 0,
                        suggestions: feedbackData.suggestions || '',
                        date_display: feedbackData.date_display,
                        created_at: feedbackData.timestamp
                    }])
                    .select();
                
                if (error) {
                    console.error('‚ùå Supabase error:', error);
                    
                    // Save to localStorage as backup
                    let feedbacks = JSON.parse(localStorage.getItem('mainPageFeedbacks') || '[]');
                    feedbacks.push(feedbackData);
                    localStorage.setItem('mainPageFeedbacks', JSON.stringify(feedbacks));
                    
                    return false;
                }
                
                console.log('‚úÖ Main page feedback saved to Supabase with ID:', data[0].id);
                return true;
                
            } catch (error) {
                console.error('‚ùå Error saving main page feedback:', error);
                
                // Emergency localStorage save
                try {
                    let feedbacks = JSON.parse(localStorage.getItem('mainPageFeedbacks') || '[]');
                    feedbacks.push(feedbackData);
                    localStorage.setItem('mainPageFeedbacks', JSON.stringify(feedbacks));
                } catch (backupError) {
                    console.error('‚ùå Even backup failed:', backupError);
                }
                
                return false;
            }
        }
        
        // Function to show error messages in news container
        function showNewsError(title, message) {
            const newsContainer = document.getElementById('newsContainer');
            if (newsContainer) {
                newsContainer.innerHTML = `
                    <div class="news-error" style="text-align: center; padding: 40px; color: #666;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: #e53e3e; margin-bottom: 16px;"></i>
                        <h3>${title}</h3>
                        <p>${message}</p>
                        <button onclick="location.reload()" style="margin-top: 20px; padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-sync"></i> ·åà·åπ·äï ·ä†·ãµ·àµ
                        </button>
                    </div>
                `;
            }
        }
    </script>
    <script>
        // Android-optimized initialization
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üè† Home page initializing for Android...');
            
            // Detect Android device
            const isAndroid = /Android/i.test(navigator.userAgent);
            const isLowEndDevice = navigator.hardwareConcurrency <= 2 || navigator.deviceMemory <= 2;
            
            if (isAndroid) {
                console.log('üì± Android device detected');
                document.body.classList.add('android-device');
                
                if (isLowEndDevice) {
                    console.log('‚ö° Low-end device detected, optimizing...');
                    document.body.classList.add('low-end-device');
                    
                    // Reduce animations for low-end devices
                    const style = document.createElement('style');
                    style.textContent = `
                        .low-end-device .news-card {
                            transition: box-shadow 0.2s ease !important;
                        }
                        .low-end-device .news-card:hover {
                            transform: none !important;
                        }
                        .low-end-device .skeleton-image,
                        .low-end-device .skeleton-title,
                        .low-end-device .skeleton-text,
                        .low-end-device .skeleton-meta-item,
                        .low-end-device .skeleton-button {
                            animation-duration: 2s !important;
                        }
                    `;
                    document.head.appendChild(style);
                }
                
                // Android-specific optimizations
                if ('serviceWorker' in navigator) {
                    // Enable service worker for better caching on Android
                    console.log('üîß Service worker support detected');
                }
                
                // Optimize touch events for Android
                document.addEventListener('touchstart', function() {}, { passive: true });
                document.addEventListener('touchmove', function() {}, { passive: true });
                
                // Android Chrome address bar optimization
                const viewportMeta = document.querySelector('meta[name="viewport"]');
                if (viewportMeta && window.chrome) {
                    viewportMeta.setAttribute('content', 
                        'width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover, minimal-ui'
                    );
                }
            }
            
            // Inline Supabase configuration backup (in case file doesn't load)
            if (typeof supabaseConfig === 'undefined') {
                console.log('üì¶ Loading inline Supabase configuration...');
                window.supabaseConfig = {
                    url: 'https://asfrnjaegyzwpseryawi.supabase.co',
                    anonKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFzZnJuamFlZ3l6d3BzZXJ5YXdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4NDg4OTAsImV4cCI6MjA4MjQyNDg5MH0.7vLsda2lKd-9zEyeNJgGXQ39TmN1XZ-TfI4BHM_eWD8'
                };
                
                window.initializeSupabase = function() {
                    if (typeof window.supabase !== 'undefined' && window.supabase.createClient) {
                        const supabaseLib = window.supabase;
                        const supabaseClient = supabaseLib.createClient(window.supabaseConfig.url, window.supabaseConfig.anonKey);
                        window.supabase = supabaseClient;
                        console.log('‚úÖ Supabase initialized for Android');
                        return true;
                    } else {
                        console.error('‚ùå Supabase library not loaded');
                        return false;
                    }
                };
                
                window.isSupabaseConfigured = function() {
                    return window.supabaseConfig.url !== 'https://your-project-ref.supabase.co' && 
                           window.supabaseConfig.anonKey !== 'your-anon-key-here';
                };
            }
            
            console.log('‚úÖ Android-optimized configuration loaded');
        });

        // Enhanced scroll animations with intersection observer
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    // Special handling for news section
                    if (entry.target.id === 'news') {
                        // Trigger news loading if not already loaded
                        setTimeout(() => {
                            if (typeof loadNewsData === 'function' && (!window.newsData || window.newsData.length === 0)) {
                                console.log('üîÑ News section visible, loading news...');
                                loadNewsData();
                            }
                        }, 500);
                    }
                }
            });
        }, observerOptions);

        // Observe all fade-in elements
        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Enhanced mobile menu with better Android support
        function initializeMobileMenu() {
            const mobileToggle = document.getElementById('mobileMenuToggle');
            const mainMenu = document.getElementById('mainMenu');
            
            if (!mobileToggle || !mainMenu) {
                console.error('Mobile menu elements not found');
                return;
            }
            
            console.log('üîß Initializing mobile menu...');
            
            // Function to toggle menu
            function toggleMobileMenu(e) {
                e.preventDefault();
                e.stopPropagation();
                
                console.log('üì± Mobile menu toggle clicked', mainMenu.classList.contains('active') ? '(closing)' : '(opening)');
                
                mainMenu.classList.toggle('active');
                
                // Toggle hamburger icon
                const icon = mobileToggle.querySelector('i');
                if (mainMenu.classList.contains('active')) {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                    mobileToggle.classList.add('active');
                    document.body.style.overflow = 'hidden'; // Prevent background scroll
                    console.log('‚úÖ Mobile menu opened');
                } else {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                    mobileToggle.classList.remove('active');
                    document.body.style.overflow = 'auto';
                    console.log('‚úÖ Mobile menu closed');
                }
            }
            
            // Function to close menu
            function closeMobileMenu() {
                if (mainMenu.classList.contains('active')) {
                    console.log('üì± Closing mobile menu');
                    mainMenu.classList.remove('active');
                    mobileToggle.classList.remove('active');
                    const icon = mobileToggle.querySelector('i');
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                    document.body.style.overflow = 'auto';
                }
            }
            
            // Remove any existing event listeners to prevent duplicates
            mobileToggle.replaceWith(mobileToggle.cloneNode(true));
            const newMobileToggle = document.getElementById('mobileMenuToggle');
            
            // Add multiple event listeners for better compatibility
            newMobileToggle.addEventListener('click', toggleMobileMenu);
            newMobileToggle.addEventListener('touchstart', function(e) {
                e.preventDefault();
                toggleMobileMenu(e);
            }, { passive: false });
            
            // Close mobile menu when clicking on links
            document.querySelectorAll('#mainMenu a').forEach(link => {
                link.addEventListener('click', closeMobileMenu);
                link.addEventListener('touchstart', closeMobileMenu);
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                if (!mainMenu.contains(e.target) && !newMobileToggle.contains(e.target)) {
                    if (mainMenu.classList.contains('active')) {
                        closeMobileMenu();
                    }
                }
            });
            
            // Close menu on escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && mainMenu.classList.contains('active')) {
                    closeMobileMenu();
                }
            });
            
            console.log('‚úÖ Mobile menu initialized successfully');
        }
        
        // Initialize mobile menu when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeMobileMenu);
        } else {
            initializeMobileMenu();
        }
        
        // Debug function for mobile menu
        window.testMobileMenu = function() {
            console.log('üîß Testing mobile menu...');
            const toggle = document.getElementById('mobileMenuToggle');
            const menu = document.getElementById('mainMenu');
            
            console.log('Toggle button:', toggle);
            console.log('Menu element:', menu);
            console.log('Menu classes:', menu ? menu.className : 'not found');
            
            if (toggle && menu) {
                console.log('‚úÖ Elements found, triggering click...');
                toggle.click();
                console.log('Menu classes after click:', menu.className);
            } else {
                console.error('‚ùå Mobile menu elements not found');
            }
        };

        // Smooth scroll with offset for fixed header
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const headerHeight = document.querySelector('header').offsetHeight;
                    const targetPosition = target.offsetTop - headerHeight - 20;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Add loading animation to buttons
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('click', function() {
                if (!this.href || this.href.includes('#')) {
                    this.classList.add('loading');
                    setTimeout(() => {
                        this.classList.remove('loading');
                    }, 1000);
                }
            });
        });
    </script>
</body>
</html>